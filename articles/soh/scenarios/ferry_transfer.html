<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>FerryTransfer | MARS LIFE Runtime System </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="FerryTransfer | MARS LIFE Runtime System ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../../../images/mars/mars-icon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../">
  
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../images/mars/mars-icon-resized.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>

                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../../articles/about_mars.html" title="Documentation">Documentation</a>
                      </li>
                      <li>
                          <a href="../../../simulation/Mars.Core.html" title="Core API">Core API</a>
                      </li>
                      <li>
                          <a href="../../../soh/SOHBicycleModel.Common.html" title="SmartOpenHamburg API">SmartOpenHamburg API</a>
                      </li>
                      <li>
                          <a href="../../../components/Mars.Components.html" title="Model Components API">Model Components API</a>
                      </li>
                      <li>
                          <a href="../../../common/Mars.Common.html" title="Common API">Common API</a>
                      </li>
                </ul>            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">

                  <ul class="nav level1">
                    <li class="">
                      <a href="../../dsl/index.html" title="MARS DSL Language" class="">MARS DSL Language</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../core/index.html" title="MARS Runtime System" class="">MARS Runtime System</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="../../core/getting-started/index.html" title="Getting started with MARS" class="">Getting started with MARS</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../core/basic-concepts/index.html" title="Basic Concepts" class="">Basic Concepts</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../core/basic-concepts/multi-agent-simulation.html" title="Multi-Agent-Simulation" class="">Multi-Agent-Simulation</a>
                                </li>
                                <li class="">
                                  <a href="../../core/basic-concepts/agent.html" title="Agents" class="">Agents</a>
                                </li>
                                <li class="">
                                  <a href="../../core/basic-concepts/layers.html" title="Layers" class="">Layers</a>
                                </li>
                                <li class="">
                                  <a href="../../core/basic-concepts/entity.html" title="Entities" class="">Entities</a>
                                </li>
                                <li class="">
                                  <span class="expand-stub"></span>
                                  <a href="../../core/basic-concepts/environments/index.html" title="Environments" class="">Environments</a>

                                    <ul class="nav level4">
                                      <li class="">
                                        <a href="../../core/basic-concepts/environments/spatialhashenv.html" title="SpatialHashEnvironment" class="">SpatialHashEnvironment</a>
                                      </li>
                                      <li class="">
                                        <a href="../../core/basic-concepts/environments/geohashenv.html" title="GeoHashEnvironment" class="">GeoHashEnvironment</a>
                                      </li>
                                      <li class="">
                                        <a href="../../core/basic-concepts/environments/spatialgraphenv.html" title="SpatialGraphEnvironment" class="">SpatialGraphEnvironment</a>
                                      </li>
                                      <li class="">
                                        <a href="../../core/basic-concepts/environments/collisionenv.html" title="CollisionEnvironment" class="">CollisionEnvironment</a>
                                      </li>
                                    </ul>                                </li>
                                <li class="">
                                  <a href="../../core/basic-concepts/model.html" title="Model Setup" class="">Model Setup</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../core/model-configuration/index.html" title="Model Configuration" class="">Model Configuration</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../core/model-configuration/agent_config.html" title="Agent and Entity Configuration" class="">Agent and Entity Configuration</a>
                                </li>
                                <li class="">
                                  <a href="../../core/model-configuration/layer_config.html" title="Layer Configuration" class="">Layer Configuration</a>
                                </li>
                                <li class="">
                                  <a href="../../core/model-configuration/output_filter.html" title="Output Filter" class="">Output Filter</a>
                                </li>
                                <li class="">
                                  <a href="../../core/model-configuration/sim_config_options.html" title="Simulation Configuration Options" class="">Simulation Configuration Options</a>
                                </li>
                                <li class="">
                                  <a href="../../core/model-configuration/sim_output_formats.html" title="Simulation Output Formats" class="">Simulation Output Formats</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../core/data-sources/index.html" title="Data Sources" class="">Data Sources</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../core/data-sources/geospatial_data_sources.html" title="Geospatial Data Sources" class="">Geospatial Data Sources</a>
                                </li>
                                <li class="">
                                  <a href="../../core/data-sources/geospatial_data_types.html" title="Geospatial Data Types" class="">Geospatial Data Types</a>
                                </li>
                                <li class="">
                                  <a href="../../core/data-sources/ascii-grid.html" title="ASCII grid (.asc)" class="">ASCII grid (.asc)</a>
                                </li>
                                <li class="">
                                  <a href="../../core/data-sources/csv.html" title="CSV" class="">CSV</a>
                                </li>
                                <li class="">
                                  <a href="../../core/data-sources/time-series.html" title="Time-series Data" class="">Time-series Data</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../core/analysis-and-visualization/index.html" title="Analysis and Visualization" class="">Analysis and Visualization</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../core/analysis-and-visualization/visualizing_agent_trips_kepler.html" title="Visualizing Agent Movement Trajectories" class="">Visualizing Agent Movement Trajectories</a>
                                </li>
                                <li class="">
                                  <a href="../../core/analysis-and-visualization/live_visualization.html" title="Simple Live Visualization" class="">Simple Live Visualization</a>
                                </li>
                                <li class="">
                                  <a href="../../core/analysis-and-visualization/visualizing_sim_results.html" title="Analyzing Output Data" class="">Analyzing Output Data</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../core/tutorials/index.html" title="Tutorials" class="">Tutorials</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../core/tutorials/create_new_mars_csharp_project.html" title="Creating a new MARS C# project" class="">Creating a new MARS C# project</a>
                                </li>
                                <li class="">
                                  <a href="../../core/tutorials/main_and_configs.html" title="Creating a starting point for your model" class="">Creating a starting point for your model</a>
                                </li>
                                <li class="">
                                  <a href="../../core/tutorials/create_vector_layer_raster_layer.html" title="Creating vector and raster layer files" class="">Creating vector and raster layer files</a>
                                </li>
                                <li class="">
                                  <a href="../../core/tutorials/wolf_sheep_tutorial.html" title="Building your first model (wolf-sheep-grass)" class="">Building your first model (wolf-sheep-grass)</a>
                                </li>
                                <li class="">
                                  <a href="../../core/help/index.html" title="Common problems and solutions" class="">Common problems and solutions</a>
                                </li>
                                <li class="">
                                  <a href="../../core/tutorials/geo-data-acquisition.html" title="Acquire geo data for layers" class="">Acquire geo data for layers</a>
                                </li>
                                <li class="">
                                  <a href="../../core/tutorials/deploy_in_cloud.html" title="Build and start your model in Kubernetes cluster" class="">Build and start your model in Kubernetes cluster</a>
                                </li>
                              </ul>                          </li>
                        </ul>                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../../soh/index.html" title="SmartOpenHamburg" class="">SmartOpenHamburg</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="../../soh/getting-started.html" title="Quick Start" class="">Quick Start</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../soh/scenarios/index.html" title="Ready to use scenarios (boxes)" class="">Ready to use scenarios (boxes)</a>

                              <ul class="nav level3">
                                <li class="active">
                                  <a href="../../soh/scenarios/ferry_transfer.html" title="Ferry Transfer" class="active">Ferry Transfer</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/scenarios/green_4_bikes.html" title="Green4Bikes" class="">Green4Bikes</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/scenarios/ferry_transfer_green4bikes_results.html" title="Results" class="">Results</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/scenarios/ferry_transfer_green4bikes_result_scheme.html" title="Result Schemas" class="">Result Schemas</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../soh/index.html" title="Layer" class="">Layer</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../soh/layers/multi_modal_layer.html" title="Multimodal Layer" class="">Multimodal Layer</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/layers/modal_layer.html" title="Modal Layer" class="">Modal Layer</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/layers/scheduling_layer.html" title="Scheduling Layer" class="">Scheduling Layer</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/layers/vector_layer.html" title="Vector Layer" class="">Vector Layer</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../soh/index.html" title="Agents" class="">Agents</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../soh/agents.html" title="Behaviour Model" class="">Behaviour Model</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/agents/multi_modal_agent.html" title="Multimodal" class="">Multimodal</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/agents/multi_capable_agent.html" title="Multi-Capable" class="">Multi-Capable</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/steering.html" title="Multi-Modality" class="">Multi-Modality</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/agents/citizen.html" title="Citizen" class="">Citizen</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/agents/traveler.html" title="Traveler" class="">Traveler</a>
                                </li>
                              </ul>                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="../../soh/index.html" title="Entities" class="">Entities</a>

                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../soh/entities.html" title="Referencing" class="">Referencing</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/entities/car.html" title="Street Vehicles" class="">Street Vehicles</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/entities/bicycle.html" title="Bicycle Vehicles" class="">Bicycle Vehicles</a>
                                </li>
                                <li class="">
                                  <a href="../../soh/entities/ferry.html" title="Ferry" class="">Ferry</a>
                                </li>
                              </ul>                          </li>
                        </ul>                    </li>
                  </ul>                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="ferrytransfer">FerryTransfer</h1>

<ul>
<li><p><a href="https://git.haw-hamburg.de/mars/model-deployments/-/raw/master/SOHFerryTransfer/SOHFerryTransfer_WINDOWS.zip"><span class="emoji" shortcode="floppy_disk">💾</span> <strong>Windows</strong></a></p>
</li>
<li><p><a href="https://git.haw-hamburg.de/mars/model-deployments/-/raw/master/SOHFerryTransfer/SOHFerryTransfer_MACOSX.zip"><span class="emoji" shortcode="floppy_disk">💾</span> <strong>MacOSX</strong></a></p>
</li>
<li><p><a href="https://git.haw-hamburg.de/mars/model-deployments/-/raw/master/SOHFerryTransfer/SOHFerryTransfer_LINUX.zip"><span class="emoji" shortcode="floppy_disk">💾</span> <strong>Linux</strong></a></p>
</li>
</ul>
<p>The <em>FerryTransfer</em> scenario creates a crowd of moving dock workers moving from a specified source point towards a specified target such as a randomly selected container terminal. They move within walking distance and use available ferry services that stop at the docks at regular intervals. 
The default setup in each box is shown in the following figure.</p>
<p><img src="../../../images/modeling/setup.png" alt="Default scenario"></p>
<p>Ferries and dock workers move along the ferry lines and public sidewalks. Timings of ferries, new or re/moved ferry stations can be investigated to optimize the flow of passengers. </p>
<p>The result schema and configuration of this scenario is described <a href="ferry_transfer_green4bikes_results.html">here</a>.</p>
<h3 id="start-the-simulation">Start the Simulation</h3>
<p>To run this scenario follow the instructions of your operating system.</p>
<h5 id="windows-10024">Windows &#10024;</h5>
<p>For Windows users, start the box by calling the following command (the config.json-file in the same folder is used):</p>
<pre><code class="lang-bash">   SOHFerryTransferBox.exe
</code></pre><p>Optionally a different external simulation config can be used with the <code>--sm</code> parameter:</p>
<pre><code class="lang-bash">   SOHFerryTransferBox.exe --sm config.json
</code></pre><h5 id="unix-mac-linux-10024">Unix, Mac, Linux &#10024;</h5>
<p>To start the box on Unix-based systems, execute the following command (the config.json-file in the same folder is used):</p>
<pre><code class="lang-bash">    ./SOHFerryTransferBox
</code></pre><p>Optionally a different external simulation config can be used with the <code>--sm</code> parameter:</p>
<pre><code class="lang-bash">   ./SOHFerryTransferBox --sm config.json
</code></pre><hr>
<blockquote><p>&#10071;&#10071;&#10071; There may be problems with the verification of the box and additional files with the extension <code>*.dylib</code> and <code>*.dll</code>. Please execute the following command to make them accessible in your terminal:</p>
<pre><code class="lang-bash">xattr -d com.apple.quarantine ./SOHFerryTransferBox
</code></pre><hr>
<p>As soon as the box starts, it shows you the current parameterization and stops the simulation. 
Results are stored as trajectories of the agents and can be visualized.</p>
</blockquote>
<p>The following video shows an example scenario for simulating <code>DockWorker</code> using the `Ferry`` traffic to move towards a randomly selected target in the Hamburg harbour area: </p>
<div class="embeddedvideo"><iframe src="https://www.youtube.com/embed/muBlvUj2jwA" frameborder="0" allowfullscreen="true"></iframe></div>
<h4 id="dock-worker-scheduling">Dock Worker Scheduling</h4>
<p>Dockworkers can be created at runtime of the simulation and can be set with source and destination coordinates. We use so-called agent profiles for scheduling, which represent several categories of dockworkers, to keep the setting of the scenario as simple as possible.</p>
<ul>
<li>The <code>startTime</code> (including) and the <code>endTime</code> (exclusive) each indicate the lower and upper interval bounds in hours of the day. It defines the time range of the day when new dockworkers are created in the simulation and should move towards a target.</li>
</ul>
<ul>
<li><p>The <code>spawningIntervalInMinutes</code> (e.g. <code>30</code>, for every half hour) allows to repeat the creation of new dockworkers from the <code>startTime</code>. It specifies, after how many minutes new dockworkers should be created.</p>
</li>
<li><p>The number of Dockworkers created can be set using the <code>spawningAmount</code> field (e.g. <code>3</code> for three new workers) </p>
</li>
<li><p>To describe spawning location and the moving target, the scheduler offers two different parameterizations:</p>
<ul>
<li>A concrete source and destination coordinate can be defined in <code>WGS84:4326</code> notation via the fields <code>sourceX</code> (longitude) and <code>sourceY</code> (latitude) for the source or <code>destinationX</code>(longitude) and <code>destinationY</code> (latitude) for defining the movement target (e.g. <code>9.95253, 53.54907</code>).</li>
<li>A source geometry can be defined via the <code>source</code> field (see polygon areas in the figure above) using the <code>WKT</code> (well-known-text) format with <code>WGS84:4326</code> notation. It designates areas, lines, and points in the simulation world (e.g. B. <code>POLYGON((9.976880157282743 53.5447212390353,9.983403289606962 53.54446623736498,9.980656707575712 53.54240066721653,9.976880157282743 53.5447212390353))</code>). For lines and polygons (areas) the model selects <strong>equally distributed randomly</strong> a coordinate that either lies along the line or is inside the described area. A helpful tool to define own WKT vector or selecting coordinates is the online  <a href="http://dev.openlayers.org/examples/vector-formats.html">OpenLayers</a> tool.</li>
</ul>
</li>
</ul>
<p>A full example of such a scheduling configuration is showed below and describes the setting above:</p>
<table>
<thead>
<tr>
<th>startTime</th>
<th>endTime</th>
<th>spawningIntervalInMinutes</th>
<th>spawningAmount</th>
<th>gender</th>
<th>mass</th>
<th>perceptionInMeter</th>
<th>source</th>
<th>destination</th>
</tr>
</thead>
<tbody>
<tr>
<td>7:00</td>
<td>18:00</td>
<td>10</td>
<td>10</td>
<td>female</td>
<td>60</td>
<td>1.0</td>
<td>MULTIPOLYGON (((9.97859976984082 53.543765731511,9.98209851718183 53.5428480272904,9.98651496874344 53.5427906707766,9.98565462103663 53.5456584964659,9.98261472580592 53.5477233309623,9.97791149167537 53.54617470509,9.97538780506874 53.546461487659,9.97859976984082 53.543765731511)))</td>
<td>MULTIPOLYGON (((9.9038642323762 53.4969628162607,9.91063230100308 53.4898506085511,9.92686419440484 53.4863518612101,9.92760982908407 53.502813180667,9.92072704742962 53.5180700133344,9.90220089347638 53.5195612826928,9.89617845952873 53.5129652836073,9.89331063383937 53.498224659564,9.9038642323762 53.4969628162607)))</td>
</tr>
</tbody>
</table>
<p>Since dockworkers are simply pedestrians. Pedestrian movement can be configured additionally to affect walking and running speed, by specifying <code>gender</code>, <code>mass</code> or the <code>perceptionInMeter</code>.</p>
<h4 id="ferry-vehicle-configuration">Ferry Vehicle Configuration</h4>
<p>Ferry vehicles can be parameterized by their passenger capacity (see example below or <code>ferry.csv</code>). The capacity describes how many passengers (here DockWorker) can use the ferry at the same time. Suppose the amount of waiting passengers exceeds the capacity. In that case, the remaining passengers have to wait for the next ferry to come.
Dimension properties are not part of the ferry model (so every ferry type may reach every station in comparison to the real-world situation). 
Moreover, the associated moving properties are not included because the ferry velocity is based on the defined travelling time (see <strong>Ferry Line Configuration</strong>).</p>
<table>
<thead>
<tr>
<th>type</th>
<th>passengerCapacity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Typ2000</td>
<td>250</td>
</tr>
</tbody>
</table>
<h4 id="ferry-line-configuration">Ferry Line Configuration</h4>
<p>Ferries can only drive on predefined ferry lines (routes). These lines have to be defined in the <code>ferry_line.csv</code> (see example below).
The table contains a list of stops. The column line identifies all associated stops of the same line. 
The station_id identifies a ferry station by its id. The id is a feature property of every point geometry and can be found in the <code>hamburg_ferry_stations.geojson</code>. 
Minutes defines how much time is required to reach this stop from the previous one (so the ferry requires 7 minutes from <code>80984</code> to <code>53988</code>). The first stops minutes is 0 because it has no predecessor.</p>
<table>
<thead>
<tr>
<th>line</th>
<th>station_id</th>
<th>minutes</th>
</tr>
</thead>
<tbody>
<tr>
<td>75</td>
<td>80984</td>
<td>0</td>
</tr>
<tr>
<td>75</td>
<td>53988</td>
<td>7</td>
</tr>
<tr>
<td>75</td>
<td>80984</td>
<td>5</td>
</tr>
</tbody>
</table>
<h4 id="ferry-driver-configuration">Ferry Driver Configuration</h4>
<p>To now let a ferry driver perform such a ferry drive on a define ferry line, the driver has to be spawned. This works quite similar to the spawning algorithm of the <strong>Dock Worker Scheduling</strong>.
Every ferry driver executes one line and is removed from the simulation. In the example below (also see <code>ferry_driver.csv</code>) drivers are spawned for line 61. They, therefore, move their ferry along the given route of this line (see <strong>Ferry Line Configuration</strong>).
Within the given period (<code>startTime</code> to <code>endTime</code>) drivers are created periodically with the given interval (<code>spawningIntervalInMinutes</code>). In providing an example starting at 5 o&#39;clock every 10 minutes, a driver starts to perform line 61.
The parameter <code>minimumBoardingTimeInSeconds</code> describes how many seconds the ferry will at least wait at every station for exchange of passengers.
The parameter <code>spawningAmount</code> defines how many drivers start simultaneously.</p>
<table>
<thead>
<tr>
<th>line</th>
<th>startTime</th>
<th>endTime</th>
<th>spawningIntervalInMinutes</th>
<th>minimumBoardingTimeInSeconds</th>
<th>spawningAmount</th>
<th>gender</th>
<th>mass</th>
<th>perceptionInMeter</th>
</tr>
</thead>
<tbody>
<tr>
<td>61</td>
<td>5:00</td>
<td>18:00</td>
<td>10</td>
<td>20</td>
<td>1</td>
<td>female</td>
<td>60</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<h4 id="station-re-placement">Station Re-/placement</h4>
<p>To adding, removing, or move ferry stations, two GeoJSOn files have to be modified.
Therefore open the `hamburg_ferry_stations.geojson``-a file that contains all stations. It can either be modified with an editor or imported in a  Geographic Information System (GIS, e.g. <a href="https://qgis.org/en/site/forusers/download.html">QGIS</a>) for further modification.
In the following example, a new station is inserted using QGIS. 
After importing the file mentioned above the editing, status has to be switched to editing (<em>yellow pen</em>). </p>
<p><img src="../../../images/modeling/qgis_tools.png" alt="Modification"> </p>
<p>Then a new point-object can be inserted at the desired position (three green points-symbol). This now requires an ID and a short_name. Afterwards save the modified layer (save icon, see above).</p>
<p><img src="../../../images/modeling/new_station.png" alt="Description of point object"> </p>
<p>The second part requires to connect the new station with the ferry graph. Therefore the <code>hamburg_ferry_graph.geojson</code> can be imported into QGIS. It displays the graph that connects all stations. 
To get the new station to be connected, a line has to be drawn from an existing station to the new one. Beware that the line may really click the two geo points (so zoom in to be sure).
The result may look like this.</p>
<p><img src="../../../images/modeling/new_edge.png" alt="Description of point object"> </p>
<p>Finally, the station can be used in a ferry line (see <strong>Ferry Line Configuration</strong>). Add a ferry line-entry and reference the station id that was assigned.</p>
<table>
<thead>
<tr>
<th>line</th>
<th>station_id</th>
<th>minutes</th>
</tr>
</thead>
<tbody>
<tr>
<td>75</td>
<td>80984</td>
<td>0</td>
</tr>
<tr>
<td>75</td>
<td>53988</td>
<td>7</td>
</tr>
<tr>
<td>75</td>
<td>80984</td>
<td>5</td>
</tr>
<tr>
<td>61</td>
<td>80984</td>
<td>0</td>
</tr>
<tr>
<td>61</td>
<td>80980</td>
<td>5</td>
</tr>
<tr>
<td>61</td>
<td>80989</td>
<td>5</td>
</tr>
<tr>
<td>61</td>
<td>52981</td>
<td>9</td>
</tr>
<tr>
<td>61</td>
<td>53990</td>
<td>3</td>
</tr>
<tr>
<td><strong>61</strong></td>
<td><strong>99999</strong></td>
<td><strong>3</strong></td>
</tr>
<tr>
<td>61</td>
<td>53990</td>
<td>3</td>
</tr>
<tr>
<td>61</td>
<td>52981</td>
<td>3</td>
</tr>
<tr>
<td>61</td>
<td>80989</td>
<td>12</td>
</tr>
<tr>
<td>61</td>
<td>80980</td>
<td>4</td>
</tr>
<tr>
<td>61</td>
<td>80984</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>This results in ferry driver that commute on line 61 to also reach the new station within their trip (see below).</p>
<p><img src="../../../images/modeling/trip_to_new_station.png" alt="Description of point object"></p>
<hr>
<h3 id="result-analyse">Result Analyse</h3>
<p> Details for the result schema and output can be found <a href="ferry_transfer_green4bikes_results.html">here</a>.</p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MARS-Group-HAW/life/blob/main/Documentation/articles/soh/scenarios/ferry_transfer.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Copyright &copy MARS GROUP.<br><strong>HAW Hamburg</strong></span>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
